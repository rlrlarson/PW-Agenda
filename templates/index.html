{% block content %}
  <html>
    <head>
      <link rel="stylesheet" href="../static/css/main.css">
      <script src="static/js/jquery.js"></script>
      <script src="static/js/FileSaver.js"></script> 
      <script src="static/js/ics.js"></script>
    </head>

    <section class="content-section">
        <div class="flex-container">
          ALL SESSIONS

            <!-- for every listing in favorites  --> 
            {% for session in sessions %}

              <div class="session-card flex-container-nw">

                <div style="margin-right:16px">
                  <input type="radio" name="session1"/>
                </div>
                  <div>
                    <span class="session-type keynote"></span>
                    <span class="title">
                      {{ session.title }}
                    </span>
                    <span class="description">
                      {{ session.speaker }}
                    </span>
                  </div>

                  <!-- Save to calendar button --> 
                  <button type="submit" onclick="saveToCalendar('{{ session.title }}', '{{ session.speaker }}', '{{ session.start_time }}', '{{ session.end_time }}')"> Save to calendar </button>


              </div> 


            <!-- end for --> 
            {% endfor %}


      </div>
    </section>

    <script type="text/javascript">
      function saveToCalendar(title, speaker, start_time, end_time) {
        console.log(title);
        var cal = ics();
        cal.addEvent(title, speaker, 'Default', start_time, end_time);
        cal.download('title');

      }

    </script>



  </html>
  {% endblock %}